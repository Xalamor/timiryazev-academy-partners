Документация проекта timiryazev-academy-partnersПроект — это Next.js‑приложение, которое показывает международных партнёров Тимирязевской академии на интерактивной карте и в виде списков/страниц по странам.Структура проектаКорневые файлы•&nbsp; .gitignore&nbsp;&nbsp;&nbsp; Служебный файл Git: перечисляет файлы/папки, которые не должны попадать в репозиторий (например, node_modules, файлы сборки и т.п.).•&nbsp; package.json&nbsp;&nbsp;&nbsp; Описание npm‑пакета:•&nbsp; название проекта и версия;•&nbsp; скрипты:◦&nbsp; npm run dev — запуск dev‑сервера;◦&nbsp; npm run build — production‑сборка;◦&nbsp; npm run start — запуск production‑сборки;◦&nbsp; npm run lint — запуск ESLint;•&nbsp; зависимости: next, react, react-dom, leaflet, react-leaflet, axios, tailwindcss, typescript и др.•&nbsp; package-lock.json&nbsp;&nbsp;&nbsp; Зафиксированные версии всех зависимостей.•&nbsp; tsconfig.json&nbsp;&nbsp;&nbsp; Настройки TypeScript:•&nbsp; включает .ts, .tsx и некоторые служебные типы .next/...;•&nbsp; строгий режим ("strict": true);•&nbsp; алиасы путей:◦&nbsp; "@/*" → корень проекта;◦&nbsp; "@/public" → папка public;◦&nbsp; "@/components" → папка components.•&nbsp; next.config.ts&nbsp;&nbsp;&nbsp; Конфигурация Next.js (сейчас содержит пустой объект, может расширяться при необходимости).•&nbsp; eslint.config.mjs&nbsp;&nbsp;&nbsp; Конфигурация ESLint на основе eslint-config-next:•&nbsp; подключены правила core-web-vitals и typescript;•&nbsp; игнорируются .next, out, build и next-env.d.ts.•&nbsp; postcss.config.mjs&nbsp;&nbsp;&nbsp; Конфигурация PostCSS:•&nbsp; используется плагин @tailwindcss/postcss (Tailwind CSS 4).•&nbsp; README.md&nbsp;&nbsp;&nbsp; Стандартная документация от create-next-app (можно заменить на этот документ).Папка app/ — маршруты Next.js (App Router)Папка app содержит корневой layout, глобальные стили и страницы (маршруты) приложения.app/layout.tsxГлавный layout приложения:•&nbsp; Подключает шрифты Geist и Geist_Mono из next/font/google.•&nbsp; Устанавливает метаданные:◦&nbsp; title: "Тимирязевская академия";◦&nbsp; description: "Международное сотрудничество Тимирязевской академии".•&nbsp; Подключает глобальные стили ./globals.css.•&nbsp; Оборачивает содержимое во flex‑контейнер с хедером и футером:◦&nbsp; &lt;Header /&gt; из components/Header.tsx;◦&nbsp; &lt;Footer /&gt; из components/Footer.tsx;◦&nbsp; &lt;main&gt; для рендеринга содержимого страниц.app/page.tsxКорневая страница /:•&nbsp; Импортирует и рендерит компонент &lt;WorldMap /&gt;.•&nbsp; Главная страница — интерактивная карта партнёров.app/globals.cssГлобальные CSS‑стили:•&nbsp; Подключение Tailwind:◦&nbsp; @tailwind base;◦&nbsp; @tailwind components;◦&nbsp; @tailwind utilities;•&nbsp; Сброс отступов: * { box-sizing, padding, margin }.•&nbsp; Ограничение по ширине и отключение горизонтального скролла для html, body.•&nbsp; Базовый фон, цвет текста и шрифт по умолчанию.•&nbsp; Стили для ссылок (a без подчёркивания).app/partners.tsФайл с данными партнёров и вспомогательными функциями:•&nbsp; export interface Partner — TypeScript‑тип партнёра.•&nbsp; export const PARTNERS: Partner[] — список всех партнёров (университетов).•&nbsp; export const PARTNER_COUNTRIES: string[] — список стран‑партнёров.•&nbsp; export const PARTNER_DATA: Record&lt;string, string[]&gt; — отображение: страна → массив названий университетов (для карты).•&nbsp; export function getPartnersByCountry(country: string) — фильтрация партнёров по стране.•&nbsp; export function getCountryPartnersCount(country: string) — количество партнёров в стране.Папка app/partners/ — раздел «Партнёры»app/partners/page.tsxСтраница /partners:•&nbsp; Импортирует:◦&nbsp; PARTNERS;◦&nbsp; PARTNER_COUNTRIES;◦&nbsp; getCountryPartnersCount.•&nbsp; Формирует список стран с количеством партнёров:ts•&nbsp; Отображает:◦&nbsp; заголовок и краткое описание;◦&nbsp; блок с общей статистикой:▪&nbsp; количество стран‑партнёров;▪&nbsp; количество университетов;▪&nbsp; «1200+ студентов по обмену»;▪&nbsp; «15+ лет сотрудничества»;◦&nbsp; секцию «Страны‑партнёры»:▪&nbsp; каждая страна — карточка со ссылкой на /partners/[country], где country URL‑кодируется;◦&nbsp; секцию «Все партнёры»:▪&nbsp; сетка карточек всех университетов;▪&nbsp; каждая карточка ведёт на страницу конкретной страны с якорем: /partners/{country}#{partner.id}.Использует стили из ./partners.css.app/partners/partners.cssCSS‑стили для:•&nbsp; страницы /partners (общий контейнер, заголовок, статистика, сетка стран и партнёров);•&nbsp; страницы /partners/[country] (классы country-partners-page, country-header, country-stats, partner-detail-card и т.п.);•&nbsp; адаптивной вёрстки для мобильных устройств.app/partners/[country]/page.tsxДинамическая страница /partners/[country]:•&nbsp; Помечена "use client", так как использует React‑hooks.•&nbsp; Использует:◦&nbsp; useParams() из next/navigation для получения параметра country из URL;◦&nbsp; getPartnersByCountry для выборки партнёров по стране;◦&nbsp; window.location.hash для прокрутки к нужному партнёру по якорю.•&nbsp; Логика:◦&nbsp; В useEffect:▪&nbsp; декодирует страну: decodeURIComponent(params.country);▪&nbsp; загружает список партнёров этой страны.◦&nbsp; Во втором useEffect:▪&nbsp; если в URL есть #id, прокручивает к элементу с таким id.•&nbsp; Отображает:◦&nbsp; ссылку «← Все партнёры» (возврат на /partners);◦&nbsp; заголовок «Партнёры в {country}»;◦&nbsp; краткую статистику:▪&nbsp; количество университетов;▪&nbsp; суммарное число студентов по обмену;▪&nbsp; минимальный год начала сотрудничества;◦&nbsp; список карточек партнёров:▪&nbsp; подробное описание;▪&nbsp; программы;▪&nbsp; статистика по студентам / количеству программ / лет сотрудничества;▪&nbsp; ссылка на официальный сайт, если указан.Папка app/university/ — страница об университетеapp/university/page.tsxСтраница /university:•&nbsp; Описывает Тимирязевскую академию:◦&nbsp; история и достижения;◦&nbsp; международное сотрудничество;◦&nbsp; список факультетов;◦&nbsp; ключевые цифры (лет истории, стран партнёров, студентов, преподавателей);◦&nbsp; контактная информация.•&nbsp; Содержит ссылку «Смотреть всех партнеров →» на /partners.•&nbsp; Использует стили ./university.css.app/university/university.cssCSS‑стили для:•&nbsp; общего контейнера страницы и хедера с описанием;•&nbsp; основного контента: блок «Информация» + блок «Статистика»;•&nbsp; списка факультетов в виде сетки;•&nbsp; блока контактной информации (адрес, телефон, email, сайт);•&nbsp; адаптивного отображения на разных ширинах экрана.Другие файлы в app/•&nbsp; app/favicon.ico&nbsp;&nbsp;&nbsp; Иконка сайта.Папка components/ — общие компонентыcomponents/Header.tsxКомпонент хедера (верхняя навигация):•&nbsp; "use client" — использует состояние для мобильного меню.•&nbsp; Состав:◦&nbsp; логотип (круг с img src="/logo.svg" и названием «Тимирязевская академия»);◦&nbsp; меню:▪&nbsp; «Партнеры» → /partners;▪&nbsp; «Университет» → /university;◦&nbsp; мобильная кнопка‑гамбургер:▪&nbsp; показывает/скрывает вертикальное меню.•&nbsp; Вёрстка через inline‑стили + небольшой блок &lt;style jsx&gt; для адаптивности:◦&nbsp; на десктопе (min-width: 768px) показывается горизонтальное меню и скрывается кнопка.components/Footer.tsxКомпонент футера:•&nbsp; Подключает стили ./Footer.css.•&nbsp; Содержит:◦&nbsp; логотип и название «Тимирязевская академия — Международное сотрудничество»;◦&nbsp; навигационное меню (как в Header: «Партнеры», «Университет»);◦&nbsp; контактную информацию:▪&nbsp; адрес;▪&nbsp; телефон;▪&nbsp; копирайт с текущим годом (new Date().getFullYear()).components/WorldMap.tsxКомпонент интерактивной карты мира с партнёрами:•&nbsp; "use client", так как использует React‑хуки и динамические импорты.•&nbsp; Использует:◦&nbsp; react-leaflet (MapContainer, TileLayer, GeoJSON, Popup);◦&nbsp; leaflet/dist/leaflet.css;◦&nbsp; локальные стили ./WorldMap.css;◦&nbsp; данные PARTNER_DATA и PARTNER_COUNTRIES из app/partners.ts.•&nbsp; Логика:◦&nbsp; Загружает GeoJSON‑данные стран мира через fetch из публичного GitHub‑репозитория.◦&nbsp; Для каждой страны:▪&nbsp; определяет, является ли она страной‑партнёром (по PARTNER_COUNTRIES);▪&nbsp; задаёт стиль (зелёный цвет для стран‑партнёров, серый — для остальных);▪&nbsp; вешает обработчики:▪&nbsp; click — показывает popup с информацией о стране и списком партнёров;▪&nbsp; mouseover / mouseout — подсветка границ;▪&nbsp; для стран‑партнёров выводит tooltip с названием и числом партнёров.◦&nbsp; В popup:▪&nbsp; выводит название страны, код (ISO), список партнёров;▪&nbsp; кнопку‑ссылку «Подробнее о сотрудничестве» на /partners/{country}.◦&nbsp; Внизу под картой:▪&nbsp; блок статистики:▪&nbsp; количество стран‑партнёров;▪&nbsp; количество учебных заведений (считает по PARTNER_DATA);▪&nbsp; условное число студентов по обмену.CSS‑файлы в components/components/Footer.cssСтили для футера:•&nbsp; зелёный фон, белый текст;•&nbsp; выравнивание содержимого (логотип, меню, контакты) по колонке / по рядам в зависимости от ширины экрана;•&nbsp; стили списка меню и ссылок;•&nbsp; адаптивные правила для десктопа (горизонтальное расположение элементов).components/WorldMap.cssСтили для карты:•&nbsp; размеры .leaflet-container, скругление, отключение тёмных контуров;•&nbsp; стили легенды (блок в правом нижнем углу);•&nbsp; стили статистического блока под картой;•&nbsp; спиннер загрузки и блок ошибки;•&nbsp; оформление popup‑окна (заголовок, код страны, список партнёров, кнопка);•&nbsp; отключение атрибуции Leaflet/OSM (.leaflet-control-attribution { display: none }).Папка public/•&nbsp; public/logo.svg&nbsp;&nbsp;&nbsp; SVG‑логотип, используемый в Header и Footer.Как вручную редактировать партнёров и страны в app/partners.tsФайл: app/partners.ts.Структура файлаОсновные части:1. Интерфейс партнёраts2. Список партнёров PARTNERS&nbsp;&nbsp;&nbsp; &nbsp;Массив объектов Partner. Каждый объект описывает один университет‑партнёр.3. Список стран PARTNER_COUNTRIES&nbsp;&nbsp;&nbsp; &nbsp;Массив строк с названиями стран, в которых есть партнёры.4. Карта стран к университетам PARTNER_DATA&nbsp;&nbsp;&nbsp; &nbsp;Объект вида Record&lt;string, string[]&gt;:•&nbsp; ключ — название страны (точно такое же, как в PARTNER_COUNTRIES и в поле country партнёров);•&nbsp; значение — массив строк с названиями университетов из PARTNERS.5. Вспомогательные функции:◦&nbsp; getPartnersByCountry(country: string): Partner[] — фильтрует PARTNERS по полю country;◦&nbsp; getCountryPartnersCount(country: string): number — возвращает количество партнёров в стране.Как добавить нового партнёра1. Откройте app/partners.ts.2. В массиве PARTNERS добавьте новый объект формата:ts3. Убедитесь, что:◦&nbsp; id уникален среди всех партнёров (используется как id DOM‑элемента и в ссылках вида #id);◦&nbsp; country написана точно так же, как в других местах (регистр и пробелы важны). Примеры:▪&nbsp; "Germany", "France", "China", "United States of America", "Brazil", "Kazakhstan".4. Если страна уже есть в PARTNER_COUNTRIES, переходите к следующему шагу.&nbsp;&nbsp;&nbsp; &nbsp;Если страна новая, смотрите раздел «Как добавить новую страну».5. В PARTNER_DATA найдите соответствующий ключ страны и добавьте название нового университета в массив значений.&nbsp;&nbsp;&nbsp; &nbsp;Название должно совпадать с полем name из PARTNERS.&nbsp;&nbsp;&nbsp; &nbsp;Пример для Германии:ts6. Сохраните файл. После перезапуска dev‑сервера (npm run dev) новый партнёр появится:◦&nbsp; на странице /partners (в списке «Все партнёры» и в счётчиках);◦&nbsp; на странице /partners/[country];◦&nbsp; в popup на карте (через PARTNER_DATA).Как изменить существующего партнёра1. В PARTNERS найдите объект с нужным id или name.2. Измените нужные поля: name, city, description, year, programs, website, studentsCount.3. Если вы изменили:◦&nbsp; название университета (name) — обновите соответствующую строку в PARTNER_DATA (чтобы карта отображала новое название);◦&nbsp; страну (country) — проверьте:▪&nbsp; либо новая страна уже есть в PARTNER_COUNTRIES и в PARTNER_DATA (и вы перенесёте название университета в правильный список),▪&nbsp; либо добавьте новую страну (см. следующий раздел).Как удалить партнёра1. В массиве PARTNERS удалите объект соответствующего партнёра.2. В PARTNER_DATA:◦&nbsp; найдите массив по стране этого партнёра;◦&nbsp; удалите название университета из массива.3. Если после удаления у страны больше нет партнёров:◦&nbsp; вы можете по желанию удалить эту страну из PARTNER_COUNTRIES и из PARTNER_DATA;◦&nbsp; учтите, что тогда страна перестанет подсвечиваться на карте и исчезнет из списков.Как добавить новую странуДопустим, нужно добавить новую страну "Italy" и университет в ней.1. В PARTNERS добавьте партнёра с country: "Italy" (см. пример объекта выше).2. В PARTNER_COUNTRIES добавьте новую страну:ts3. В PARTNER_DATA добавьте ключ:ts4. Важно: название "Italy" должно совпадать:◦&nbsp; в PARTNER_COUNTRIES;◦&nbsp; в PARTNERS[i].country;◦&nbsp; с названием страны в GeoJSON (feature.properties.name) — от этого зависит подсветка на карте и распознавание страны как партнёра.
